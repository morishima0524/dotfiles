set nocompatible
set modeline

filetype off

set rtp+=~/.vim/bundle/Vundle.vim " Install dir for vundle
call vundle#begin()
Plugin 'VundleVim/Vundle.vim'

" Directory Tree View
" usage enter :NERDTree in ex mode
Plugin 'scrooloose/nerdtree'

" Indent Seeing
Plugin 'nathanaelkane/vim-indent-guides'

" Xml
Plugin 'vim-scripts/xmledit'

" Velocity
Plugin 'lepture/vim-velocity'

Plugin 'vim-scripts/TortoiseSVN.vim'

" Alignment
Plugin 'junegunn/vim-easy-align'

" Read properties file
Plugin 'kamichidu/vim-edit-properties'

call vundle#end()
filetype plugin indent on

:let g:tortoiseSvnCmd='c:\Program Files\TortoiseSVN\bin\TortoiseProc.exe'
:let g:NERDTreeDirArrows=1
:let g:NERDTreeDirArrowExpandable='>'
:let g:NERDTreeDirArrowCollapsible='v'

" edit settings
set tabstop=4 " tab width on screen
set shiftwidth=4 " tab width auto indent
set expandtab " tab to space
augroup fileTypeIndent
    autocmd!
    autocmd BufNewFile,BufRead *.xml setlocal noexpandtab
augroup END
augroup zipcType
    autocmd!
    autocmd BufNewFile,BufRead *.func,*.str,*.var,*.def,*.flow set ft=c 
    autocmd BufNewFile,BufRead *.func,*.str,*.var,*.def,*.flow set fencs=cp932
    autocmd BufNewFile,BufRead *.func,*.str,*.var,*.def,*.flow set fenc=cp932
augroup END
" show white space
set list
set listchars=tab:>_,trail:_

" Disable auto wrapping(tw)
set tw=0
" Show line number(nu)
set number
" Enable os clipboard
set clipboard=unnamed
" Soft wrap when over editor area
set wrap
" Cursor position always center(so)
set scrolloff=999

" Color setting
colorscheme blue
" Highlignt current cursor line(cul)
set cursorline
set cursorcolumn
augroup my_cursorline
    autocmd!
    autocmd BufNewFile,BufRead,VimEnter * call s:set_cursorline()
    autocmd BufWritePost *vimrc call s:set_cursorline()
    function! s:set_cursorline()
        hi clear CursorLine
"        hi Normal ctermfg=White
"        hi CursorLine ctermbg=DarkGrey
        hi CursorLineNr ctermbg=DarkGreen
        hi Error ctermfg=Black
    endfunction
augroup END

" indent guide options(:h indent_guides)
let g:indent_guides_enable_on_vim_startup=1
let g:indent_guides_start_level=1
let g:indent_guides_guide_size=2
let g:indent_guides_exclude_filetypes = ['help', 'nerdtree']

" Alignment
xmap ga <Plug>(EasyAlign)
nmap ga <Plug>(EasyAlign)

" Velocity
au BufRead,BufNewFile *.vm set ft=html syntax=velocity


" Mapping
inoremap jj <ESC>
nnoremap <silent><S-CR> o<ESC>
nnoremap <silent><C-t> :NERDTreeToggle<CR>
nnoremap <silent>j gj
nnoremap <silent>k gk
nmap <F2> :tabnew $MYVIMRC<CR>
" grep next
map gn :cn<CR>
map gp :cp<CR>

" disable undo file
set undodir=
set undofile
" disable backup
"set nobackup

" ウインドウの幅
set columns=150
" ウインドウの高さ
set lines=45

" auto reload .vimrc
augroup source-vimrc
    autocmd!
    autocmd BufWritePost *vimrc source $MYVIMRC | set foldmethod=marker
    "autocmd BufWritePost *gvimrc if has('gui_running') source $MYGVIMRC
augroup END
